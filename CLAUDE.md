# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is the marketing website for BR Modelo Web (BRMW), an online database modeling tool. The site is a static website built with SvelteKit and deployed to GitHub Pages.

**Live URL**: The site deploys to GitHub Pages with base path `/brmodelo-site` (configured in [svelte.config.js:19](svelte.config.js#L19))

## Tech Stack

- **Framework**: SvelteKit with static adapter (`@sveltejs/adapter-static`)
- **Styling**: TailwindCSS
- **Internationalization**: Paraglide JS (source language: pt-BR, supports: en, pt-BR)
- **Package Manager**: pnpm (required >=9.0.0)
- **Node Version**: >=20.0.0

## Development Commands

```bash
# Install dependencies (also runs paraglide compilation via postinstall)
pnpm install

# Start development server
pnpm run dev

# Build for production (compiles i18n messages then builds)
pnpm run build

# Preview production build
pnpm run preview

# Lint code (Prettier + ESLint)
pnpm run lint

# Format code
pnpm run format

# Deploy to GitHub Pages (builds and pushes to gh-pages branch)
pnpm run deploy
```

## Architecture

### Routing & Pages

The site uses SvelteKit's file-based routing:
- **Routes**: [src/routes/](src/routes/)
  - [+page.svelte](src/routes/+page.svelte): Main landing page (imports Main component)
  - [+layout.svelte](src/routes/+layout.svelte): Root layout with Header, Footer, and global styles
  - [+layout.js](src/routes/+layout.js): Sets `prerender = true` for static site generation

### Components Structure

All UI components live in [src/components/](src/components/):
- [Main.svelte](src/components/Main.svelte): Main content aggregator (imports Hero, ProjectNumbers, Features, WhoUse, SupportUs)
- [Hero.svelte](src/components/Hero.svelte): Hero section
- [Header.svelte](src/components/Header.svelte): Site header with navigation
- [Footer.svelte](src/components/Footer.svelte): Site footer
- [Features.svelte](src/components/Features.svelte): Features showcase
- [WhoUse.svelte](src/components/WhoUse.svelte): Organizations using BRMW
- [SupportUs.svelte](src/components/SupportUs.svelte): Support/contribution section
- [ProjectNubers.svelte](src/components/ProjectNubers.svelte): Project statistics (note: typo in filename)
- [LanguageSwitcher.svelte](src/components/LanguageSwitcher.svelte): Language toggle component
- [GithubStars.svelte](src/components/GithubStars.svelte): GitHub stars display
- [SupportBanner.svelte](src/components/SupportBanner.svelte): Support banner
- [BRMW.svelte](src/components/BRMW.svelte): BRMW branding component

### Internationalization (i18n)

The site uses Paraglide JS for internationalization:

**Configuration**:
- [project.inlang/settings.json](project.inlang/settings.json): i18n configuration
  - Source language: `pt-BR`
  - Supported languages: `en`, `pt-BR`
  - Message files: [messages/en.json](messages/en.json), [messages/pt-BR.json](messages/pt-BR.json)

**Implementation**:
- [src/lib/i18n.js](src/lib/i18n.js): Creates i18n instance using Paraglide SvelteKit adapter
- [src/hooks.js](src/hooks.js): Client-side rerouting for i18n
- [src/hooks.server.js](src/hooks.server.js): Server-side handling for i18n
- Generated files in [src/paraglide/](src/paraglide/): Auto-generated by Paraglide compiler (runs during postinstall and build)

**Usage in components**:
```javascript
import * as m from "$paraglide/messages"
// Then use: m.Hero_title(), m.Features_title(), etc.
```

**Adding/editing translations**:
1. Edit JSON files in [messages/](messages/) directory
2. Run `pnpm install` or the build command to recompile
3. Messages are type-safe and available as functions from `$paraglide/messages`

### Static Assets

- [static/](static/): Contains static files (favicon.png, images, CNAME, .nojekyll)
- [src/lib/img/](src/lib/img/): Images imported in components

### SvelteKit Configuration

- [svelte.config.js](svelte.config.js):
  - Uses `adapter-static` to generate static HTML
  - Output directory: `build/`
  - Base path: `/brmodelo-site` (production only, detected via NODE_ENV)
  - Alias: `$paraglide` → `./src/paraglide`

## Deployment

Automatic deployment via GitHub Actions:
- **Workflow**: [.github/workflows/deploy.yml](.github/workflows/deploy.yml)
- **Trigger**: Push to `master` branch
- **Process**: Installs dependencies → Builds with NODE_ENV=production → Deploys to `gh-pages` branch
- **Requirements**: Uses pnpm 9 and Node 20

Manual deployment: `pnpm run deploy`

## Code Style

### General
- Follow `.editorconfig` definitions to write code

## Important Notes

- The site is fully static (prerendered) - no server-side runtime
- All pages are prerendered at build time (`prerender: true` in +layout.js)
- Base path `/brmodelo-site` is critical for GitHub Pages deployment
- Paraglide compilation happens automatically during install and build
- Source language for i18n is Portuguese (pt-BR), not English
