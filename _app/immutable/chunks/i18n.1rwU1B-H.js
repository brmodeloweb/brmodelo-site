import"./index.CEgAt-vC.js";import{b as g}from"./entry.BObVNq1A.js";import{p as I}from"./stores.DsmHBiXs.js";import{S as P}from"./scheduler.Bib6H27N.js";import{r as _}from"./runtime.CSTc6qgx.js";function j(t,a){return t===""?"":t.startsWith("/")?t:new URL(t,a).pathname}const G="$paraglide-adapter-sveltekit:context",d="__data.json",m=".html__data.json",X="paraglide:lang";function h(t){return"/"+t.split("/").filter(Boolean).join("/")}const L=(...t)=>t.map(h).filter(a=>a!=="/").reduce((a,e)=>a+e,"")||"/";function A(t){try{return decodeURI(t)}catch{return t}}function x(t,a){t=A(t);const e=t.endsWith("/")&&t!=="/";t=h(t);const n=h(a.base),{availableLanguageTags:s,defaultLanguageTag:i}=a;let r=t.replace(n,"/");const o=r.endsWith(m)?m:r.endsWith(d)?d:void 0;o&&(r=r.replace(o,""));const[c,...l]=r.split("/").filter(Boolean);if(!c)return{base:n,lang:i,path:"/",dataSuffix:o,trailingSlash:e};const u=s.includes(c)?c:i,f=s.includes(c)?h(l.join("/")):h(r);return{base:n,lang:u,path:f,dataSuffix:o,trailingSlash:e}}function b(t){const a=[];return a.push(t.base),t.includeLanguage&&(!(t.lang===t.defaultLanguageTag)||t.prefixDefaultLanguage==="always")&&a.push(t.lang),a.push(t.path),t.dataSuffix&&a.push(d),L(...a)+(t.trailingSlash&&!t.dataSuffix?"/":"")}const S=/\[(.*?)\]/g;function T(t){const a=t.match(S);if(!a)return[{type:"static",value:t}];const e=[];let n=0;for(const i of a){const r=t.indexOf(i,n),o=t.slice(n,r);o&&e.push({type:"static",value:o});const c=i.slice(1,-1);e.push({type:"param",name:c}),n=r+i.length}const s=t.slice(n);return s&&e.push({type:"static",value:s}),e}function v(t,a){let e;t:for(const n of a){const s=T(n),i={};let r=0;for(const u of s)if(u.type==="static"){if(u.value!==t.slice(r,r+u.value.length))continue t;r+=u.value.length}else if(u.type==="param"){let f=t.indexOf("/",r);f===-1&&(f=t.length),i[u.name]=t.slice(r,f),r=f}if(r!==t.length)continue;const o={id:n,params:i};if(!e){e=o;continue}const c=Object.keys(e.params).length,l=Object.keys(i).length;c<l||(c===l?e.id.length>n.length&&(e=o):e=o)}return e}function D(t,a){const e=T(t);let n="";for(const s of e)if(s.type==="static")n+=s.value;else{const i=a[s.name];if(!i)throw new Error(`Missing param ${s.name}`);n+=i}return n}function O(t,a,e){const n=v(t,Object.keys(e));if(!n)return t;const s=e[n.id];if(!s)return t;const i=s[a];return i?D(i,n.params):t}function y(t,a,e){for(const[n,s]of Object.entries(e)){if(!(a in s))continue;const i=s[a];if(!i)continue;const r=v(t,[i]);if(r)return D(n,r.params)}return t}const B=({defaultLanguageTag:t,runtime:a,translations:e})=>({url:n})=>{try{const{lang:s,path:i,dataSuffix:r,trailingSlash:o}=x(n.pathname,{base:g,availableLanguageTags:a.availableLanguageTags,defaultLanguageTag:t}),c=y(i,s,e);return b({path:c,base:g,dataSuffix:r,trailingSlash:o,includeLanguage:!1})}catch{return n.pathname}};function E(t){const a=[];for(const e of t)typeof e=="string"?a.push(n=>n===e):a.push(n=>e.test(n));return e=>(e=h(e),a.some(n=>n(e)))}function W(t){try{const a=new Intl.Locale(t);return"textInfo"in a?a.textInfo.direction==="rtl"?"rtl":"ltr":a.getTextInfo().direction==="rtl"?"rtl":"ltr"}catch{return"ltr"}}function w(t){const a=t.map(e=>[e,W(e)]);return Object.fromEntries(a)}function R(t,a){const e={};for(const n in t){const s=t[n];if(s){if(typeof s=="object"){e[n]=t[n];continue}e[n]=k(s,a)}}return e}function k(t,a){const e=a.map(n=>[n,t({},{languageTag:n})]);return Object.fromEntries(e)}function F(t,a){const e=R({},t.availableLanguageTags),n=[],s=t.sourceLanguageTag,i={runtime:t,translations:e,exclude:E(n),defaultLanguageTag:s,prefixDefaultLanguage:"never",textDirection:w(t.availableLanguageTags),seo:{noAlternateLinks:!1}};return Object.freeze(e),Object.freeze(i),{config:i,reroute:()=>B(i),handle:(r={})=>{throw new Error("")},getLanguageFromUrl(r){const c=r.pathname.slice(p(g).length).split("/").filter(Boolean).at(0);return t.isAvailableLanguageTag(c)?c:s},resolveRoute(r,o=void 0){if(i.exclude(r))return r;const c=p(g);if(o=o??t.languageTag(),!r.startsWith(c))return r;const l=r.slice(c.length),u=O(l,o,e);return b({path:u,lang:o,base:c,dataSuffix:void 0,includeLanguage:!0,defaultLanguageTag:s,prefixDefaultLanguage:i.prefixDefaultLanguage})},route(r){const{path:o,lang:c}=x(r,{base:p(g),availableLanguageTags:i.runtime.availableLanguageTags,defaultLanguageTag:i.defaultLanguageTag}),l=y(o,c,e);return L(p(g),l)}}}function p(t){return t===""?"":t.startsWith("/")?t:j(t,new URL(P(I).url))}const $=F(_);export{X as L,G as P,y as a,O as b,x as g,$ as i,j as n,b as s};
